services:
  mysql:
    image: mysql
    container_name: mysql-development-container
    ports:
      - "${MYSQL_TCP_PORT}:${MYSQL_TCP_PORT}"
    environment:
      - HOST=0.0.0.0
      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
      - MYSQL_DATABASE=${MYSQL_DATABASE}
      - MYSQL_USER=${MYSQL_USER}
      - MYSQL_PASSWORD=${MYSQL_PASSWORD}
      - MYSQL_TCP_PORT=${MYSQL_TCP_PORT}
  server:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "${PORT}:${PORT}"
    container_name: server-development-container
    depends_on:
      - mysql
    volumes:
      - ./src:/server/src
      - /var/run/docker.sock:/var/run/docker.sock
      - ./files:/server/files